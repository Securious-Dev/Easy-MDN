<body>
  <h1>7. API 다루기</h1>
  <h3>Application Programming Interface</h3>
  <p>API는 정의 및 프로토콜 집합을 사용하여 두 소프트웨어 구성 요소가 서로 통신할 수 있게 하는 메커니즘입니다.</p>
  <p>예를 들어, 기상청의 소프트웨어 시스템에는 일일 기상 데이터가 들어 있습니다. 휴대폰의 날씨 앱은 API를 통해 이 시스템과 ‘대화’하여 휴대폰에 매일 최신 날씨 정보를 표시합니다.</p>
  <p>API 아키텍쳐는 여러가지가 있지만 오늘날 가장 많이 사용되는 방식은 REST API 입니다.</p>
  <p>클라이언트가 서버에 요청을 데이터로 전송합니다. 서버가 이 클라이언트 입력을 사용하여 내부 함수를 시작하고 출력 데이터를 다시 클라이언트에 반환합니다.</p>
  <p>API를 레스토랑에 비유할 수 있습니다.</p>
  <p>손님(우리가 만드는 프로그램)이 자리에서 웨이터(API)에게 주문을 합니다. 웨이터는 주방(API 제공자; 공공데이터, 백엔드 등)에 주문 내역을 전달합니다.</p>
  <p>주방에서는 요리를 해서 다시 웨이터를 통해 손님에게 음식(데이터)를 전달합니다.</p>
  <p>손님은 주방에서 어떤 과정을 통해 음식을 만드는지 관심이 없으며 주문한 음식을 먹기만 하면 됩니다.</p>
  <p>가져다 쓰려고 하는 API의 기능을 어떻게 구현하는지 몰라도 되고 API가 가져다주는 데이터를 사용만하면 된다는 것이 API 통신의 장점입니다.</p>
  <h2>7.1. API 예시</h2>
  <p>대부분은 프로젝트에서 백엔드 개발자가 만든 API를 사용하게 됩니다.</p>
  <p>하지만 누구나 사용할 수 있도록 제공되는 API들도 있습니다.</p>
  <p><a href="https://www.data.go.kr/" target="_blank">공공데이터 포털</a>과 같이 누구나 무료로 사용할 수 있는 API를 제공하는 곳도 있습니다.</p>
  <h2>7.2. JSON</h2>
  <p>JSON은 JavaScript Object Notation의 약자로 '자바 스크립트 객체 표기법 이라고 말할 수 있습니다.</p>
  <p>API를 사용하게 되면 주고 받는 데이터 형식은 XML, JSON 등이 있지만 주로 JSON을 사용하게 됩니다.</p>
  <p>JSON 객체는 중괄호({})를 이용해 표현하며 쉼표를 사용하여 여러 프로퍼티를 포함할 수 있습니다.</p>
  <pre>
    <code>
      {
        <span class="code-keyword">'name'</span>: <span class="code-constant">'Kim'</span>,
        <span class="code-keyword">'age'</span>: <span class="code-number">25</span>
      }
    </code>
  </pre>
  <p>각 프로퍼티에 접근하는 방법은 점(.)을 이용하는 것입니다.</p>
  <pre>
    <code>
      <span class="code-keyword">const</span> person = {
        <span class="code-keyword">'name'</span>: <span class="code-constant">'Kim'</span>,
        <span class="code-keyword">'age'</span>: <span class="code-number">25</span>
      }
      console.<span class="code-function">log</span>(person.name); <span class="code-annotation">// 'Kim'</span>
    </code>
  </pre>
  <h2>7.3. API 호출하기</h2>
  <p>API를 사용할 수 있는 방법에는 여러가지가 있습니다.</p>
  <p>대표적으로 request, axios 등의 라이브러리를 이용할 수 있습니다.</p>
  <p>하지만 JavaScript에 내장된 fetch 함수를 사용하는 방법을 살펴보도록 하겠습니다.</p>
  <pre>
    <code>
      <span class="code-function">fetch</span>(url, options)
        .<span class="code-function">then</span>((response) => response.<span class="code-function">json</span>())
        .<span class="code-function">then</span>((data) => console.<span class="code-function">log</span>(data));
    </code>
  </pre>
  <p>기본적인 사용 방법은 위의 예제와 같습니다.</p>
  <p>fetch를 사용하여 받는 데이터는 HTTP 응답 전체를 받습니다.(두 번째 줄의 response)</p>
  <p>우리는 JSON 형태의 데이터만을 원하기 때문에 .json()을 사용합니다.</p>
  <p>options 부분에는 fetch 함수의 옵션을 설정할 수 있습니다.</p>
  <p>HTTP Method(GET, POST 등)을 지정할 수 있으며 Content-Type을 지정할 수도 있습니다.</p>
  <p>fetch 함수의 더 많은 정보는 <a href="https://developer.mozilla.org/ko/docs/Web/API/Fetch_API/Using_Fetch" target="_blank">해당 문서</a>를 참고하면 됩니다.</p>
</body>